<template>
  <div id="SpeciesCharts">
    <!--    <div class="box"-->
    <!--         style="width: 23.894375rem; height: 16.62125rem;"-->
    <!--         ref="top_ref"></div>-->
    <div class="box"
         style="width: 100%; height: 100%;"
         ref="top_ref"></div>
  </div>
</template>

<script>
import * as echarts from 'echarts'
export default {
  data () {
    return {

    }
  },
  mounted () {
    this.drawChart()

  },
  methods: {
    drawChart () {
      let myEcharts = this.$echarts.init(this.$refs.top_ref,'purple-passion')
      var nodes = [{
        x: 500,
        y: 950,
        nodeName: 'Covid-19',
        svgPath: 'M519.9 458.2c0 65.3-52.9 118.2-118.3 118.2-65.3 0-118.2-52.9-118.2-118.2 0-65.3 52.9-118.2 118.2-118.2 65.3 0 118.3 52.9 118.3 118.2z m169.4-5.8c-34.3 0-62 27.8-62 62s27.7 62 62 62 62-27.8 62-62-27.7-62-62-62z m-151 170c-42.1 0-76.2 34.1-76.2 76.2s34.1 76.2 76.2 76.2 76.2-34.1 76.2-76.2-34.2-76.2-76.2-76.2z m97.2-271.9c0-11.6-9.4-21-21-21s-21 9.4-21 21 9.4 21 21 21 21-9.4 21-21z m-275.9 335c-13.8 0-25 11.2-25 25s11.2 25 25 25 25-11.2 25-25-11.2-25-25-25zM446.3 269c9.4 0 17.1-7.6 17.1-17.1 0-9.4-7.6-17.1-17.1-17.1-9.4 0-17.1 7.6-17.1 17.1 0 9.5 7.7 17.1 17.1 17.1z m462.4 210.1c19.3 0 34.9 15.6 34.9 34.9 0 19.3-15.6 34.9-34.9 34.9h-37.1c-3.5 36.5-12.3 71.3-25.9 103.8l42.4 24.5v0.1c0.3 0.1 0.5 0.2 0.8 0.3 16.7 9.6 22.4 31 12.8 47.7-9.6 16.7-31 22.4-47.7 12.8-0.3-0.1-0.4-0.4-0.7-0.5v0.1l-40.4-23.3c-20.6 30.9-45.9 58.4-74.8 81.5l26.2 45.5c9.6 16.7 3.9 38-12.8 47.7-16.7 9.6-38 3.9-47.7-12.8l-24.3-42.2c-41 21.4-86.6 35.1-135 39.3v36.9h-0.3c-1.4 18-16.3 32.3-34.6 32.3-18.4 0-33.3-14.2-34.6-32.3h-0.3v-37.5c-46.9-5-91.2-19-130.9-40.2l-25.2 43.7c-9.6 16.7-31 22.4-47.7 12.8-16.7-9.6-22.4-31-12.8-47.7l27.5-47.6c-28.5-23.3-53.4-50.8-73.6-81.7l-40.3 23.3c-16.7 9.6-38 3.9-47.7-12.8-9.6-16.7-3.9-38 12.8-47.7l42.7-24.6c-13-31.8-21.5-65.9-24.9-101.5h-34.9c-1.4 0.2-2.8 0.4-4.3 0.4-19.3 0-34.9-15.6-34.9-34.9 0-19.2 15.5-34.7 34.6-34.9v-0.5h39.6c3.9-39.3 14.1-76.8 29.6-111.3l-38.8-22.4c-16.7-9.6-22.4-31-12.8-47.7 9.6-16.7 31-22.4 47.7-12.8l38.4 22.2c23.6-33.5 52.8-62.7 86.2-86.4l-23.2-40.2c-9.6-16.7-3.9-38 12.8-47.7 16.7-9.6 38-3.9 47.7 12.8l23.3 40.4c33.9-15.3 70.6-25.5 109.2-29.6v-39.7c0-19.3 15.6-34.9 34.9-34.9 19.3 0 34.9 15.6 34.9 34.9v39.1c41.4 3.6 80.7 14.1 116.9 30.5l23.1-40.1c0.1-0.2 0.2-0.5 0.3-0.7 9.6-16.7 31-22.4 47.7-12.8 16.7 9.6 22.4 30.9 12.8 47.6h0.1L722 220.7c34.2 24.4 64 54.6 87.9 89.2l43.8-25.3v0.1c0.2-0.1 0.4-0.4 0.7-0.5 16.7-9.6 38-3.9 47.7 12.8 9.6 16.7 3.9 38-12.8 47.7-0.3 0.1-0.5 0.2-0.8 0.4v0.1l-44.8 25.9c14.6 33.6 24.2 69.9 27.9 107.9h37.1v0.1zM513.1 834.2c176.6 0 319.8-143.2 319.8-319.8S689.7 194.7 513.1 194.7c-109.7 0-206.4 55.3-264 139.4l-24.5 42.5c-20 41.7-31.2 88.5-31.2 137.8-0.1 176.6 143.1 319.8 319.7 319.8z',
        symbolSize: 70,

      }, {
        x: 100,
        y: 70,
        nodeName: 'D614G突变',
        svgPath: 'M891.733333 462.222222c-8.533333 0-14.222222 5.688889-14.222222 14.222222V497.777778h-110.933333c-2.844444-59.733333-27.022222-113.777778-64-156.444445l81.066666-81.066666 15.644445 15.644444c2.844444 2.844444 7.111111 4.266667 9.955555 4.266667 2.844444 0 7.111111-1.422222 9.955556-4.266667 5.688889-5.688889 5.688889-14.222222 0-19.911111L768 204.8c-5.688889-5.688889-14.222222-5.688889-19.911111 0-5.688889 5.688889-5.688889 14.222222 0 19.911111l15.644444 15.644445-81.066666 81.066666c-42.666667-36.977778-96.711111-61.155556-156.444445-64V142.222222h21.333334c8.533333 0 14.222222-5.688889 14.222222-14.222222s-5.688889-14.222222-14.222222-14.222222h-71.111112c-8.533333 0-14.222222 5.688889-14.222222 14.222222s5.688889 14.222222 14.222222 14.222222H497.777778v115.2c-59.733333 2.844444-113.777778 27.022222-156.444445 65.422222L260.266667 241.777778l15.644444-15.644445c5.688889-5.688889 5.688889-14.222222 0-19.911111-5.688889-5.688889-14.222222-5.688889-19.911111 0L204.8 256c-5.688889 5.688889-5.688889 14.222222 0 19.911111 2.844444 2.844444 7.111111 4.266667 9.955556 4.266667 2.844444 0 7.111111-1.422222 9.955555-4.266667l15.644445-15.644444 81.066666 81.066666c-36.977778 42.666667-61.155556 96.711111-65.422222 156.444445h-106.666667v-21.333334c0-8.533333-5.688889-14.222222-14.222222-14.222222s-14.222222 5.688889-14.222222 14.222222v71.111112c0 8.533333 5.688889 14.222222 14.222222 14.222222s14.222222-5.688889 14.222222-14.222222V526.222222H256c2.844444 59.733333 27.022222 113.777778 65.422222 156.444445l-81.066666 81.066666-15.644445-15.644444c-5.688889-5.688889-14.222222-5.688889-19.911111 0-5.688889 5.688889-5.688889 14.222222 0 19.911111l49.777778 49.777778c2.844444 2.844444 7.111111 4.266667 9.955555 4.266666 2.844444 0 7.111111-1.422222 9.955556-4.266666 5.688889-5.688889 5.688889-14.222222 0-19.911111L258.844444 782.222222l81.066667-81.066666c42.666667 36.977778 96.711111 61.155556 156.444445 65.422222v113.777778h-21.333334c-8.533333 0-14.222222 5.688889-14.222222 14.222222s5.688889 14.222222 14.222222 14.222222h71.111111c8.533333 0 14.222222-5.688889 14.222223-14.222222s-5.688889-14.222222-14.222223-14.222222H526.222222v-113.777778c61.155556-2.844444 116.622222-28.444444 159.288889-66.844445l73.955556 73.955556-15.644445 15.644444c-5.688889 5.688889-5.688889 14.222222 0 19.911111 2.844444 2.844444 7.111111 4.266667 9.955556 4.266667 2.844444 0 7.111111-1.422222 9.955555-4.266667l49.777778-49.777777c5.688889-5.688889 5.688889-14.222222 0-19.911111-5.688889-5.688889-14.222222-5.688889-19.911111 0l-15.644444 15.644444-75.377778-75.377778c35.555556-41.244444 59.733333-95.288889 62.577778-153.6h110.933333v21.333334c0 8.533333 5.688889 14.222222 14.222222 14.222222s14.222222-5.688889 14.222222-14.222222v-71.111112c1.422222-8.533333-4.266667-14.222222-12.8-14.222222zM440.888889 605.866667c-19.911111 0-35.555556-15.644444-35.555556-35.555556s15.644444-35.555556 35.555556-35.555555 35.555556 15.644444 35.555555 35.555555-15.644444 35.555556-35.555555 35.555556z m71.111111-143.644445c-19.911111 0-35.555556-15.644444-35.555556-35.555555s15.644444-35.555556 35.555556-35.555556 35.555556 15.644444 35.555556 35.555556-15.644444 35.555556-35.555556 35.555555z m71.111111 143.644445c-19.911111 0-35.555556-15.644444-35.555555-35.555556s15.644444-35.555556 35.555555-35.555555 35.555556 15.644444 35.555556 35.555555-15.644444 35.555556-35.555556 35.555556z'
      },
        {
          x: 330,
          y: 70,
          nodeName: 'Cluster 5',
          svgPath: 'M80 512a16 16 0 0 1-15.552-12.352L64 496v-32a16 16 0 0 1 12.352-15.552L80 448H198.4l-0.64 3.2a318.912 318.912 0 0 1 72.96-149.376l8.448-9.344-63.296-63.36a16 16 0 0 1-2.56-19.2l2.56-3.392 22.656-22.656a16 16 0 0 1 19.2-2.56l3.456 2.56 66.432 66.56-0.512 0.32a318.208 318.208 0 0 1 155.328-57.408l-2.432 0.256V80a16 16 0 0 1 12.352-15.552L496 64h32a16 16 0 0 1 15.552 12.352l0.448 3.648v113.6l-2.56-0.256a318.08 318.08 0 0 1 140.224 47.296l14.72 9.792 43.84-43.904a16 16 0 0 1 22.592 0l22.656 22.656a16 16 0 0 1 0 22.592l-40.64 40.704-2.752-2.88a319.488 319.488 0 0 1 80.448 144.832L825.6 448h118.4a16 16 0 0 1 15.552 12.352L960 464v32a16 16 0 0 1-12.352 15.552L944 512H832c0 63.104-18.304 121.984-49.856 171.52l-8.576 12.8 98.56 98.56a16 16 0 0 1 2.56 19.2l-2.56 3.392-22.656 22.656a16 16 0 0 1-19.2 2.56l-3.456-2.56-95.296-95.36 2.88-2.688a319.04 319.04 0 0 1-175.872 86.592l-14.464 1.728L544 944a16 16 0 0 1-12.352 15.552L528 960h-32a16 16 0 0 1-15.552-12.352L480 944v-113.6l2.432 0.256a318.72 318.72 0 0 1-180.8-77.504l-9.152-8.32-72.704 72.64a16 16 0 0 1-22.592 0l-22.656-22.656a16 16 0 0 1 0-22.592l75.904-75.84 0.32 0.512A318.528 318.528 0 0 1 192 512H80zM512 256a256 256 0 1 0 0 512 256 256 0 0 0 0-512z m-32 384a32 32 0 1 1 0 64 32 32 0 0 1 0-64z m144-96a48 48 0 1 1 0 96 48 48 0 0 1 0-96zM480 320a96 96 0 1 1 0 192 96 96 0 0 1 0-192z m0 64a32 32 0 1 0 0 64 32 32 0 0 0 0-64z',
        },
        {
          x: 660,
          y: 70,
          nodeName: '501Y.V2',
          svgPath: 'M519.648175 411.024439c65.11182 0 117.904081 52.750306 117.904081 117.866219 0 65.109773-52.792261 117.905105-117.904081 117.905105s-117.865196-52.795331-117.865195-117.905105c0.00307-65.115913 52.753376-117.866219 117.865195-117.866219z m127.947812-144.118063c-38.612336-18.889171-82.060807-29.515162-127.947812-29.515162a295.079986 295.079986 0 0 0-39.39721 2.648311l-19.019131-97.111564c22.160675-11.038382 37.376184-33.901043 37.372091-60.316617 0-37.207339-30.178263-67.389695-67.385601-67.389695-37.16743 0-67.340576 30.182356-67.345693 67.389695 0 36.213711 28.612607 65.770828 64.453835 67.300668l18.891218 96.574329c-49.653787 12.693065-94.21766 38.155942-129.980094 72.638222l-38.692153-35.721501a37.52968 37.52968 0 0 0 1.525747-10.661806c0-20.961362-16.944893-37.913419-37.864301-37.913419-20.92043 0-37.909326 16.952057-37.914442 37.913419 0 20.91736 16.997082 37.865324 37.914442 37.865324 4.751201 0 9.345837-0.868785 13.556734-2.478443l38.69727 35.717408c-27.409202 33.278874-47.583643 72.763065-58.084791 116.005852l-32.619866-5.994516c-3.803622-24.142815-24.68005-42.625735-49.895287-42.625734-27.906528 0-50.518479 22.656977-50.523596 50.522572 0 27.905504 22.618092 50.517456 50.523596 50.517457 18.724419 0 35.139241-10.210529 43.818907-25.382037l32.701731 5.990423a296.992541 296.992541 0 0 0-2.23285 36.011096c0 50.392613 12.777999 97.771595 35.30911 139.111037l-137.714227 85.374265c-12.111828-11.618595-28.52358-18.729536-46.590014-18.729536-37.207339 0-67.386625 30.137331-67.386626 67.34467 0 37.207339 30.179286 67.386625 67.386626 67.386625s67.348763-30.178263 67.345692-67.386625a67.568773 67.568773 0 0 0-3.055586-20.133509l137.701947-85.371196a292.46135 292.46135 0 0 0 32.415206 38.530472c28.112212 28.111188 61.975393 50.518479 99.631962 65.31955l-35.140265 107.404981c-27.36827 0.662078-49.359076 23.02639-49.359076 50.518479 0 27.906528 22.655954 50.518479 50.558389 50.51848 27.904481 0 50.522573-22.612975 50.522572-50.51848 0-16.330911-7.727993-30.800432-19.757956-40.057241l35.135148-107.446936c23.771355 6.282064 48.742023 9.631339 74.498589 9.631339 11.326954 0 22.446177-0.662078 33.443626-1.900276l2.690267 15.376168c-9.431794 6.904233-15.503058 18.026526-15.503058 30.550746 0 20.921453 16.948987 37.910349 37.868393 37.910349 20.955222 0 37.911372-16.988896 37.911373-37.910349 0-17.19458-11.44975-31.708102-27.163609-36.341624l-2.68822-15.336259c49.197394-11.489659 93.600608-35.42679 129.732454-68.338298l80.155414 78.430123a67.22085 67.22085 0 0 0-8.971307 33.648287c0 37.166407 30.141424 67.346716 67.348762 67.346717s67.342623-30.180309 67.342623-67.346717c0-37.205292-30.134261-67.386625-67.342623-67.386625-12.772882 0-24.724052 3.558029-34.889555 9.760275l-80.1636-78.469009c41.211528-47.253116 67.429604-107.944262 71.232202-174.667786H914.086901c6.904233 19.63823 25.629676 33.695359 47.624575 33.695359 27.905504 0 50.521549-22.618092 50.52155-50.518479 0-27.908574-22.617068-50.521549-50.52155-50.521549-21.994899 0-40.720342 14.058152-47.624575 33.694336H810.644154c-3.754503-66.024607-29.472183-126.175449-69.989911-173.221858L898.872415 186.08786a49.995571 49.995571 0 0 0 22.609905 5.369277c27.864572 0 50.522573-22.652884 50.522573-50.558388 0-27.906528-22.658001-50.518479-50.522573-50.51848-27.905504 0-50.513363 22.611952-50.513363 50.51848 0 7.525379 1.613751 14.634273 4.544494 21.042203L717.342351 314.659887a294.088404 294.088404 0 0 0-40.4287-31.215893l43.029939-76.562593c2.809993 0.496303 5.707991 0.742919 8.679666 0.742918 27.904481 0 50.529736-22.612975 50.52155-50.518479 0-27.905504-22.609905-50.518479-50.52155-50.518479-27.906528 0-50.514386 22.612975-50.514386 50.518479a50.226838 50.226838 0 0 0 12.531383 33.278874l-43.044266 76.521662z',
        },
        {
          x: 900,
          y: 70,
          nodeName: 'VOC 202012/01',
          svgPath: 'M884.52838729 533.04993118l112.17397534-22.43479508-112.17397534-22.43479506c-3.04670056-51.51693683-16.61836672-99.98717309-38.49921623-143.74887212l85.86156137-75.61356857-108.29635646 36.56040678c-27.69727787-41.82288957-63.4267663-77.55237802-105.24965588-105.24965588l36.56040679-108.29635645-75.61356858 85.86156137c-43.76169904-21.8808495-92.2319353-35.45251567-143.74887211-38.49921623l-22.15782229-111.89700257-22.43479508 112.17397534c-51.51693683 3.04670056-99.98717309 16.61836672-143.74887211 38.49921623l-75.61356857-85.86156137 36.56040677 108.29635646c-41.82288957 27.69727787-77.55237802 63.4267663-105.24965587 105.24965588l-108.29635646-36.56040679 85.86156138 75.61356858c-21.8808495 43.76169904-35.45251567 92.2319353-38.49921623 143.74887211l-111.89700257 22.15782229 112.17397536 22.43479508c3.04670056 51.51693683 16.61836672 99.98717309 38.49921622 143.74887211l-85.86156138 75.61356857 108.29635644-36.56040677c27.69727787 41.82288957 63.4267663 77.55237802 105.2496559 105.24965587l-36.56040678 108.29635646 75.61356856-85.86156138c43.76169904 21.8808495 92.2319353 35.45251567 143.74887213 38.49921623l22.43479506 112.17397534 22.43479507-112.17397534c51.51693683-3.04670056 99.98717309-16.61836672 143.74887212-38.49921623l75.61356857 85.86156138-36.56040678-108.29635646c41.82288957-27.69727787 77.55237802-63.4267663 105.24965588-105.24965587l108.29635645 36.56040677-85.86156137-75.61356857c21.32690395-43.76169904 34.89857011-92.2319353 37.94527068-143.74887211z m-588.01320908 76.72145967c-17.17231228 0-31.02095121-13.84863893-31.0209512-31.02095119 0-17.17231228 13.84863893-31.02095121 31.0209512-31.02095121 17.17231228 0 31.02095121 13.84863893 31.02095122 31.02095121 0 17.17231228-13.84863893 31.02095121-31.02095122 31.02095119z m55.67152851 123.80683207c-6.92431946 0-12.46377503-5.53945557-12.46377504-12.46377504s5.53945557-12.46377503 12.46377504-12.46377503 12.46377503 5.53945557 12.46377504 12.46377503-5.53945557 12.46377503-12.46377504 12.46377504z m-24.65057729-328.21274269c0-58.16428352 47.08537237-105.24965589 105.24965588-105.24965589s105.24965589 47.08537237 105.24965588 105.24965589-47.08537237 105.24965589-105.24965588 105.24965587-105.24965589-47.08537237-105.24965588-105.24965587zM519.47826502 733.57822292c-37.66829788 0-68.13530355-30.46700565-68.13530354-68.13530357 0-37.66829788 30.46700565-68.13530355 68.13530354-68.13530352 37.66829788 0 68.13530355 30.46700565 68.13530354 68.13530352 0 37.66829788-30.46700565 68.13530355-68.13530354 68.13530357z m105.52662866-439.83277251a18.55717618 18.55717618 0 1 1 37.11435235 0 18.55717618 18.55717618 0 0 1-37.11435235 0zM662.11924603 733.57822292c-6.92431946 0-12.46377503-5.53945557-12.46377505-12.46377504s5.53945557-12.46377503 12.46377505-12.46377503 12.46377503 5.53945557 12.46377503 12.46377503-5.53945557 12.46377503-12.46377503 12.46377504z m43.48472624-185.84873447c-23.81965896 0-43.48472624-19.38809451-43.48472624-43.48472625s19.38809451-43.48472624 43.48472624-43.48472625c23.81965896 0 43.48472624 19.38809451 43.48472625 43.48472625s-19.66506729 43.48472624-43.48472625 43.48472625z',
        }
      ]
      var charts = {
        nodes: [],
        linesData: [{
          coords: [
            [500, 800],
            [500, 500],
          ]
        }, {
          coords: [
            [500, 500],
            [100, 500],
            [100, 200]

          ]
        }, {
          coords: [
            [660, 500],
            [660, 200],

          ]
        }, {
          coords: [
            [500, 500],
            [900, 500],
            [900, 200]

          ]
        },{
          coords: [
            [330, 500],
            [330, 200],

          ]
        }
        ]
      }
      for (var j = 0; j < nodes.length; j++) {
        const {
          x,
          y,
          nodeName,
          svgPath,
          symbolSize
        } = nodes[j];
        var node = {
          nodeName,
          value: [x, y],
          symbolSize: symbolSize || 50,
          symbol: 'path://' + svgPath,
          itemStyle: {
            color: 'orange',
          }
        }
        charts.nodes.push(node)
      }

      const option = {
        
        title: {
          text: "新冠病毒变异种类拓扑图",
          y:'2%',
          textStyle: {
            color: 'orange',
            // fontWeight: '800',
            // fontSize: `20`,
          },
        },
        // backgroundColor: "#0B1321",
        xAxis: {
          min: 0,
          max: 1000,
          show: false,
          type: 'value'
        },
        yAxis: {
          min: 0,
          max: 1000,
          show: false,
          type: 'value'
        },
        backgroundColor: false,
        series: [{
          type: 'graph',
          coordinateSystem: 'cartesian2d',
          label: {
            show: true,
            position: 'bottom',
            color: 'orange',
            formatter: function(item) {
              return item.data.nodeName
            }
          },
          data: charts.nodes,
        }, {
          type: 'lines',
          polyline: true,
          coordinateSystem: 'cartesian2d',
          lineStyle: {
            type: 'dashed',
            width: 2,
            color: '#175064',
            curveness: 0.3

          },
          effect: {
            show: true,
            trailLength: 0.1,
            symbol: 'arrow',
            color: 'orange',
            symbolSize: 8
          },
          data: charts.linesData
        }]
      };
      myEcharts.setOption(option)
      // 使图表跟随窗口缩放
      window.addEventListener("resize", function () {
        myEcharts.resize();
      });
    }
  }
}
</script>

<style>
#SpeciesCharts{
  position: absolute;
  width: 100%;
  height: 100%;
}
</style>
